# ğŸ‡ RabbitMQ åŸºç¤ç·´ç¿’ (.NET 6)

æœ¬å°ˆæ¡ˆç¤ºç¯„å¦‚ä½•ä½¿ç”¨ **RabbitMQ** èˆ‡ **.NET 6** å»ºç«‹æœ€åŸºæœ¬çš„ **Pub/Sub** èˆ‡ **Work Queues** æ¨¡å‹ï¼Œç›®çš„æ˜¯ç†è§£è¨Šæ¯ç™¼ä½ˆèˆ‡æ¶ˆè²»çš„è§£è€¦æ©Ÿåˆ¶èˆ‡ä½‡åˆ—åˆ†é…è¡Œç‚ºã€‚

## âœ¨ å¯¦ä½œæ¦‚å¿µ

æœ¬å°ˆæ¡ˆåˆ†ç‚ºå…©å€‹è§’è‰²ï¼š

- **Senderï¼ˆç™¼ä½ˆç«¯ï¼‰**ï¼šæŒçºŒç™¼é€è¨Šæ¯è‡³æŒ‡å®š queueã€‚
- **Receiverï¼ˆæ¶ˆè²»ç«¯ï¼‰**ï¼šè¨‚é–± queue ä¸¦è™•ç†è¨Šæ¯ã€‚å¯å•Ÿå‹•å¤šå€‹ consumer å¯¦ç¾è² è¼‰åˆ†æ“”ã€‚

```
publisher -> exchanger -> queue_A -> consumerA1
                                  -> consumerA2
                       -> queue_B -> consumerB1
                                  -> consumerB2
```

- è‹¥å¤šå€‹ consumer ç¶å®šç›¸åŒ queueï¼Œæœƒ**è¼ªæµæ¶ˆè²»**ï¼ˆè² è¼‰å¹³è¡¡ï¼‰
- è‹¥ç¶å®šä¸åŒ queueï¼Œå‰‡æœƒ**åˆ†åˆ¥ç²å¾—ç›¸åŒè¨Šæ¯**ï¼ˆè¨Šæ¯å…±äº«ï¼‰

## ğŸ”§ æŠ€è¡“ç´°ç¯€

- ä½¿ç”¨ [RabbitMQ.Client](https://www.nuget.org/packages/RabbitMQ.Client/) NuGet å¥—ä»¶
- ä½¿ç”¨ `BackgroundService` å»ºç«‹æŒçºŒé‹è¡Œçš„ sender/receiver
- `appsettings.json` è®€å–é€£ç·šè¨­å®š
- queue å¯é€é `QueueDeclare` è¨­å®šæ˜¯å¦æŒä¹…åŒ–ã€ç¨ä½”ã€åˆªé™¤æ¢ä»¶

## ğŸ“ é—œéµæª”æ¡ˆ

| æª”æ¡ˆåç¨±   | èªªæ˜                   |
|------------|------------------------|
| `Sender.cs`   | å»ºç«‹ queue ä¸¦æ¯ç§’é€å‡ºè¨Šæ¯         |
| `Receiver.cs` | ç¶å®š queue ä¸¦åˆ—å°æ¥æ”¶åˆ°çš„è¨Šæ¯     |

## ğŸ› ï¸ åŸ·è¡Œæ–¹å¼

1. å»ºç«‹ä¸¦å•Ÿå‹•æœ¬æ©Ÿ RabbitMQï¼ˆä¾‹å¦‚ä½¿ç”¨ Dockerï¼‰
2. è¨­å®š `appsettings.json` é€£ç·šè³‡è¨Š
3. å•Ÿå‹• `Sender` å°ˆæ¡ˆç™¼é€è¨Šæ¯
4. å¯åŒæ™‚å•Ÿå‹•å¤šå€‹ `Receiver`ï¼Œè§€å¯Ÿè¼ªè©¢æ¶ˆè²»è¡Œç‚º
